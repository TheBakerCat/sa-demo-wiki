import{_ as a,o as e,c as i,ai as n}from"./chunks/framework.B8DQqJnJ.js";const k=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"other/internet_guide.md","filePath":"other/internet_guide.md"}'),t={name:"other/internet_guide.md"};function p(l,s,r,h,o,d){return e(),i("div",null,[...s[0]||(s[0]=[n(`<p>Ультимативный гайд на настройку интернета/связи между виртальными машинами</p><h2 id="_0-совсем-немного-советов" tabindex="-1">0.Совсем немного советов <a class="header-anchor" href="#_0-совсем-немного-советов" aria-label="Permalink to “0.Совсем немного советов”">​</a></h2><p>С помощью команды ping можно проверить если ли связь с конкретным адресом или доменным именем</p><p>Посмотреть текущие настройки можно с помошью команды ip a (или ip -c a, если хотите подсветить цветом)</p><p>После каждого изменения файлов в настройках интерфесов перезапускайте интренет с помощью команды systemctl restart network Так же можно можно почитать логи с помощью systemctl status network</p><p>Если у вас ping-уеться ip адресса в интернете(например 1.1), но не пингуеться доменное имя(например ya.ru), скорее всего нужно настроить файл resolv.conf или файл ipv4route</p><p>Если у вас не пингуетсья даже 1.1, проверте пингуеться ли шлюз указанный в файле ipv4route</p><p>Если пингуетсья шлюз, но нет интернета, возмножно на машине шлюза нужно поднять nat</p><p>(Настройка NAT в <a href="https://thebakercat.github.io/sa-demo-wiki/module1/task1-2.html" target="_blank" rel="noreferrer">https://thebakercat.github.io/sa-demo-wiki/module1/task1-2.html</a>)</p><h2 id="_1-создание-и-настроика-интерфеисов" tabindex="-1">1.Создание и настройка интерфейсов <a class="header-anchor" href="#_1-создание-и-настроика-интерфеисов" aria-label="Permalink to “1.Создание и настройка интерфейсов”">​</a></h2><p>В папке /etc/net/ifaces/ создаем интерфейсы (mkdir &quot;имя интерфейса&quot;) или копируем, если уже существует интерфейс(cp ens18 &quot;имя нового интерфейса&quot;)</p><p>По итогу на машине IPS должно получиться 3 интерфейса: ens18, ens19 и ens20,</p><p>На HQ-RTR И BR-RTR - 2 интерфейса: ens18 и ens19,</p><p>И наконец на на HQ-SRV, HQ-CLI и BR-SRV - только 1 интерфейс: ens18</p><h2 id="_2-настроика-динамеческого-dhcp-адреса" tabindex="-1">2.Настройка динамеческого(DHCP) адреса <a class="header-anchor" href="#_2-настроика-динамеческого-dhcp-адреса" aria-label="Permalink to “2.Настройка динамеческого(DHCP) адреса”">​</a></h2><p>Этим способом настраиваетсья только ens18(интерфейс в сторону интернета) на машине IPS</p><p>Редактируем файл options следуйшим образом:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>BOOTPROTO=dhcp</span></span>
<span class="line"><span>TYPE=eth</span></span>
<span class="line"><span>CONFIG_IPV4=yes</span></span>
<span class="line"><span>CONFIG_WIRELESS=no</span></span>
<span class="line"><span>DISABLED=no</span></span></code></pre></div><p>Больше ничего настраивать не нужно</p><h2 id="_3-настроика-статического-адреса" tabindex="-1">3.Настройка статического адреса <a class="header-anchor" href="#_3-настроика-статического-адреса" aria-label="Permalink to “3.Настройка статического адреса”">​</a></h2><p>Этим способом настриваетсья все остальные интерфейсы машин</p><p>Начинаем настраивать файлы следуйщим образом(если их нет, то создаём их):</p><p>Файл options</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>BOOTPROTO=static</span></span>
<span class="line"><span>TYPE=eth</span></span>
<span class="line"><span>CONFIG_IPV4=yes</span></span>
<span class="line"><span>CONFIG_WIRELESS=no</span></span>
<span class="line"><span>DISABLED=no</span></span></code></pre></div><p>Файл ipv4address</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>ip адрес интерфейса + префикс(ака сокрашенная маска),</span></span></code></pre></div><p>Например, 172.16.1.0/28 для интрфейса IPS в сторону HQ-RTR и 172.16.2.0/28 для интрфейса IPS в сторону для BR-RTR</p><p>Файл ipv4route</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>default via &quot;ip адрес шлюза&quot;</span></span></code></pre></div><p>Файл resolv.conf</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>nameserver 8.8.8.8</span></span></code></pre></div><p>(Существуют и другие dns сервера, например nameserver 77.88.7.7, если хотите можете вписать ниже через enter)</p><h2 id="_4-конкретные-примеры" tabindex="-1">4.Конкретные примеры <a class="header-anchor" href="#_4-конкретные-примеры" aria-label="Permalink to “4.Конкретные примеры”">​</a></h2>`,33)])])}const g=a(t,[["render",p]]);export{k as __pageData,g as default};
