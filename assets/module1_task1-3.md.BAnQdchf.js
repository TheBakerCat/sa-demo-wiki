import{_ as a,o as i,c as e,ai as n}from"./chunks/framework.B8DQqJnJ.js";const o=JSON.parse('{"title":"3. Создание локальных учётных записей","description":"","frontmatter":{},"headers":[],"relativePath":"module1/task1-3.md","filePath":"module1/task1-3.md"}'),l={name:"module1/task1-3.md"};function t(p,s,h,r,d,k){return i(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="_3-создание-локальных-учетных-записеи" tabindex="-1">3. Создание локальных учётных записей <a class="header-anchor" href="#_3-создание-локальных-учетных-записеи" aria-label="Permalink to “3. Создание локальных учётных записей”">​</a></h1><h2 id="_3-1-создаите-локальные-учетные-записи-на-серверах-hq-srv-и-br-srv" tabindex="-1">3.1 Создайте локальные учетные записи на серверах HQ-SRV и BR-SRV <a class="header-anchor" href="#_3-1-создаите-локальные-учетные-записи-на-серверах-hq-srv-и-br-srv" aria-label="Permalink to “3.1 Создайте локальные учетные записи на серверах HQ-SRV и BR-SRV”">​</a></h2><details class="details custom-block"><summary>Details</summary><ul><li><p>Создайте пользователя sshuser</p></li><li><p>Пароль пользователя sshuser с паролем P@ssw0rd</p></li><li><p>Идентификатор пользователя 2026</p></li><li><p>Пользователь sshuser должен иметь возможность запускать sudo без ввода пароля</p></li></ul></details><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshuser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2026</span></span></code></pre></div><p>Указываем для свежесозданного пользователя пароль следуя заданию.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshuser</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title custom-block-title-default">INFO</p><p>Просто дважды вводим пароль P@ssw0rd. Он не будет отображаться при вводе из соображений безопасности, но сами символы корректно вводятся.</p></div><p>Редактируем файл <code>/etc/sudoers</code>. Необходимо разрешить использование sudo для самого себя (root) и группе wheel.</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>## User privilege specification</span></span>
<span class="line"><span>##</span></span>
<span class="line highlighted"><span># root ALL=(ALL:ALL) ALL # раскомментировать тут</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Uncomment to allow members of group wheel to execute any command</span></span>
<span class="line"><span># WHEEL_USERS ALL=(ALL:ALL) ALL</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Same thing without a password</span></span>
<span class="line highlighted"><span># WHEEL_USERS ALL=(ALL:ALL) NOPASSWD: ALL # и тут</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Uncomment to allow members of group sudo to execute any command</span></span>
<span class="line"><span># SUDO_USERS ALL=(ALL:ALL) ALL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br></div></div><p>Добавляем sshuser в группу wheel дабы наделить его возможностями суперпользователя.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usermod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshuser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span></span></code></pre></div><h2 id="_3-2-создаите-пользователя-net-admin-на-маршрутизаторах-hq-rtr-и-br-rtr" tabindex="-1">3.2 Создайте пользователя net_admin на маршрутизаторах HQ-RTR и BR-RTR <a class="header-anchor" href="#_3-2-создаите-пользователя-net-admin-на-маршрутизаторах-hq-rtr-и-br-rtr" aria-label="Permalink to “3.2 Создайте пользователя net_admin на маршрутизаторах HQ-RTR и BR-RTR”">​</a></h2><details class="details custom-block"><summary>Details</summary><ul><li><p>Создайте пользователя net_admin на маршрутизаторах HQ-RTR и BR-RTR</p></li><li><p>Пароль пользователя net_admin с паролем P@ssw0rd</p></li></ul></details><p>Необходимо предустановить sudo. В стандартной поставке ALT JeOS его нет.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span></span></code></pre></div><p>В остальном - действия аналогичны предыдущему пункту. Единственные отличия - другое имя пользователя и отсутствие нужды указывать свой UID при его (пользователя) создании.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> useradd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> net_admin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> net_admin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usermod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> net_admin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span></span></code></pre></div><h2 id="_3-3-проверка-работоспособности" tabindex="-1">3.3 Проверка работоспособности <a class="header-anchor" href="#_3-3-проверка-работоспособности" aria-label="Permalink to “3.3 Проверка работоспособности”">​</a></h2><p>Удостовериться в корректном выполнении задания очень просто. У нас должна быть возможность спокойно залогиниться под созданным пользователем и выполнить от его лица что угодно с повышением привилегий.</p><p>За пример возьмём хост HQ-SRV и юзера sshuser.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -iu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshuser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> whoami</span></span></code></pre></div><p>Если пользователь сменился, и повышение привилегий от его имени прошло успешно не запросив ввода пароля - конфигурация выполнена верно.</p>`,22)])])}const g=a(l,[["render",t]]);export{o as __pageData,g as default};
