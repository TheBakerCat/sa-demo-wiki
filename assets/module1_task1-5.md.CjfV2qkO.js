import{_ as a,o as e,c as i,ai as t}from"./chunks/framework.B8DQqJnJ.js";const k=JSON.parse('{"title":"5. Настройте безопасный удаленный доступ на серверах HQ-SRV и BRSRV:","description":"","frontmatter":{},"headers":[],"relativePath":"module1/task1-5.md","filePath":"module1/task1-5.md"}'),n={name:"module1/task1-5.md"};function l(p,s,r,h,d,o){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="_5-настроите-безопасныи-удаленныи-доступ-на-серверах-hq-srv-и-brsrv" tabindex="-1">5. Настройте безопасный удаленный доступ на серверах HQ-SRV и BRSRV: <a class="header-anchor" href="#_5-настроите-безопасныи-удаленныи-доступ-на-серверах-hq-srv-и-brsrv" aria-label="Permalink to “5. Настройте безопасный удаленный доступ на серверах HQ-SRV и BRSRV:”">​</a></h1><p>• Для подключения используйте порт 2026</p><p>• Разрешите подключения исключительно пользователю sshuser</p><p>• Ограничьте количество попыток входа до двух</p><p>• Настройте баннер «Authorized access only».</p><h2 id="_1-1" tabindex="-1">1.1 <a class="header-anchor" href="#_1-1" aria-label="Permalink to “1.1”">​</a></h2><p>Установка ssh сервера:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>apt-get update &amp;&amp; apt-get install openssh-server</span></span></code></pre></div><p>Файл конфигурации</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>vim /etc/openssh/sshd_config</span></span></code></pre></div><p>Найдите строчку <code>port 22</code> раскомментируйте и измените на нужный port 2026</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#port 22 </span></span>
<span class="line diff remove add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2026</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_1-2" tabindex="-1">1.2 <a class="header-anchor" href="#_1-2" aria-label="Permalink to “1.2”">​</a></h2><p>Чтоб разрешить подключение только для пользователя sshuser нужно в конфигурационном файле прописать</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>AllowUsers sshuser</span></span></code></pre></div><h2 id="_1-3" tabindex="-1">1.3 <a class="header-anchor" href="#_1-3" aria-label="Permalink to “1.3”">​</a></h2><p>Для ограничения попыток ввода пароля нужно найти строчку с MaxAuthTries и раскомментировать и задать значение 2</p><h2 id="_1-4" tabindex="-1">1.4 <a class="header-anchor" href="#_1-4" aria-label="Permalink to “1.4”">​</a></h2><p>Для настройки баннера найдите в онфигурационном файле строчку c Banner раскомментируйте и пропишите путь к файлу например /root/banner</p><p>Далее перейтилепо пути, который задали и создайте файл</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>touch &quot;название&quot;</span></span></code></pre></div><p>Используя текстовый редактор прописываем Authorized access only</p><p>Полезные материалы:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>https://www.altlinux.org/SSH</span></span></code></pre></div>`,24)])])}const g=a(n,[["render",l]]);export{k as __pageData,g as default};
