import{_ as a,o as i,c as e,ai as t}from"./chunks/framework.B8DQqJnJ.js";const c=JSON.parse('{"title":"Настройте контроллер домена Samba DC на сервере BR-SRV:","description":"","frontmatter":{},"headers":[],"relativePath":"module2/task2-1.md","filePath":"module2/task2-1.md"}'),n={name:"module2/task2-1.md"};function l(p,s,h,r,d,o){return i(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="настроите-контроллер-домена-samba-dc-на-сервере-br-srv" tabindex="-1">Настройте контроллер домена Samba DC на сервере BR-SRV: <a class="header-anchor" href="#настроите-контроллер-домена-samba-dc-на-сервере-br-srv" aria-label="Permalink to “Настройте контроллер домена Samba DC на сервере BR-SRV:”">​</a></h1><details class="details custom-block"><summary>• Имя домена au-team.irpo</summary><p>• Введите в созданный домен машину HQ-CLI</p><p>• Создайте 5 пользователей для офиса HQ: имена пользователей формата hquser№ (например hquser1, hquser2 и т.д.)</p><p>• Создайте группу hq, введите в группу созданных пользователей</p><p>• Убедитесь, что пользователи группы hq имеют право аутентифицироваться на HQ-CLI</p><p>• Пользователи группы hq должны иметь возможность повышать привилегии для выполнения ограниченного набора команд: cat, grep, id. Запускать другие команды с повышенными привилегиями пользователи группы права не имеют.</p></details><h2 id="_1-запуск-и-первичная-настроика-samba" tabindex="-1">1. Запуск и первичная настройка samba <a class="header-anchor" href="#_1-запуск-и-первичная-настроика-samba" aria-label="Permalink to “1. Запуск и первичная настройка samba”">​</a></h2><p>Устонавливаем samba</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">apt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">get install task</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">samba</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Запускаем программу настройки</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>samba-tool domain provision</span></span></code></pre></div><p>Псоле этого программа будет просить ввести параметры</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Realm: au-team.irpo</span></span></code></pre></div><p>Далее пропускаем всё с помощью Enter</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Domain [au-team]:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Server Role (dc, member, standalone) [dc]:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>DNS backend (SAMBA_INTERNAL, BIND9_FLATFILE, BIND9_DLZ, NONE) [SAMBA_INTERNAL]:</span></span></code></pre></div><p>Здесь прописываем любой DNS сервер, например 1.1.1.1:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>DNS forwarder IP address (write &#39;none&#39; to disable forwarding) [127.0.0.1]:1.1.1.1</span></span></code></pre></div><p>Ставим программу на автозапуск и запускаем</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span> systemctl enable --now samba</span></span></code></pre></div>`,15)])])}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
