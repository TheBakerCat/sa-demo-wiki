Ультимативный гайд на настройку интернета/связи между виртальными машинами

## 0.Совесм немного советов

С помощью команды ping можно проверить если ли связь с конкретным адресом или доменным именем

Посмотреть текущие настройки можно с помошью команды ip a (или ip -c a, если хотите подсветить цветом)

После каждого изменения файлов в настройках интерфесов перезапускайте интренет с помощью команды systemctl restart network
Так же можно можно почитать логи с помощью systemctl status network

Если у вас ping-уеться ip адресса в интернете(например 1.1), но не пингуеться доменное имя(например ya.ru),
скорее всего нужно настроить файл resolv.conf или файл ipv4route

Если у вас не пингуетсья даже 1.1, проверте пингуеться ли шлюз указанный в файле ipv4route

Если пингуетсья шлюз, но нет интернета,
возмножно на машине шлюза нужно поднять nat

(Настройка NAT  в https://thebakercat.github.io/sa-demo-wiki/module1/task1-2.html)

## 1.Создание и настройка интерфейсов

В папке /etc/net/ifaces/ создаем интерфейсы (mkdir "имя интерфейса") или копируем, если уже существует интерфейс(cp ens18 "имя нового интерфейса")

По итогу на машине IPS должно получиться 3 интерфейса: ens18, ens19 и ens20,

На HQ-RTR И BR-RTR - 2 интерфейса: ens18 и ens19,

И наконец на на HQ-SRV, HQ-CLI и BR-SRV - только 1 интерфейс: ens18

<!--
Переходим в созданную директорию, создаем файлы(если их нет):

```
touch options ipv4address ipv4route resolv.conf
```
-->
## 2.Настройка динамеческого(DHCP) адреса
Этим способом настраиваетсья только ens18(интерфейс в сторону интернета) на машине IPS

Редактируем файл options следуйшим образом:
```
BOOTPROTO=dhcp
TYPE=eth
CONFIG_IPV4=yes
CONFIG_WIRELESS=no
DISABLED=no
```
Больше ничего настраивать не нужно

## 3.Настройка статического адреса

Этим способом настриваетсья все остальные интерфейсы машин

Начинаем настраивать файлы следуйщим образом(если их нет, то создаём их):

Файл options 
```
BOOTPROTO=static
TYPE=eth
CONFIG_IPV4=yes
CONFIG_WIRELESS=no
DISABLED=no
```

Файл ipv4address
```
ip адрес интерфейса + префикс(ака сокрашенная маска),
```
Например, 172.16.1.0/28 для интрфейса IPS в сторону HQ-RTR и 172.16.2.0/28 для интрфейса IPS в сторону для BR-RTR

Файл ipv4route
```
default via "ip адрес шлюза"
```

Файл resolv.conf
```
nameserver 8.8.8.8
```
(Существуют и другие dns сервера, например nameserver 77.88.7.7, если хотите можете вписать ниже через enter)

## 4.Конкретные примеры
